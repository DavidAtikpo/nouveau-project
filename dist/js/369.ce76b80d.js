"use strict";(self["webpackChunknouveau_projet"]=self["webpackChunknouveau_projet"]||[]).push([[369],{1369:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});var o=a(6768);function r(e,t,a,r,n,l){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>l.pickImageChange&&l.pickImageChange(...e))},null,32),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.uploadImage&&l.uploadImage(...e))},"Télécharger")])}var n=a(4373),l=a(2169),i={data(){return{takeFile:null}},methods:{pickImageChange(e){this.takeFile=e.target.files[0]},async uploadImage(){if(!this.takeFile)return void console.error("Aucun fichier sélectionné.");const e=this.$route.params.id,t=new FormData;t.append("profilePicture",this.takeFile);const a=localStorage.getItem("token"),o={"Content-Type":"multipart/form-data",Authorization:`Bearer ${a}`};try{console.log("formData",t);const a=await n.A.post(`${l.J}/childProfile/uploadChild/${e}`,t,{headers:o});localStorage.setItem("profilePhotoURL",a.data.path),console.log("Image téléchargée avec succès.",a.data)}catch(r){console.error("Erreur lors du téléchargement de l'image :",r)}}}},u=a(1241);const c=(0,u.A)(i,[["render",r]]);var s=c}}]);